/* GAVOC-specific styles using project color scheme */
.gavoc-marker-icon {
  border-radius: 50% !important;
  border: 2px solid white !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3) !important;
}

.gavoc-marker-icon.selected {
  border: 3px solid hsl(var(--secondary)) !important;
  box-shadow: 0 4px 12px hsla(var(--secondary), 0.4) !important;
  transform: scale(1.2) !important;
}

/* Simple, reliable marker style to avoid disappearing issues */
.gavoc-simple-marker {
  border-radius: 50%;
}

.gavoc-simple-marker div {
  border-radius: 50%;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.gavoc-cluster-icon {
  font-family: 'Inter', system-ui, sans-serif !important;
  font-weight: 700 !important;
  color: hsl(var(--foreground)) !important;
  box-shadow: 0 6px 20px hsla(var(--muted-foreground), 0.15),
    0 3px 10px hsla(var(--muted-foreground), 0.1) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.gavoc-tooltip {
  background: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 12px hsla(var(--foreground), 0.15) !important;
  color: hsl(var(--foreground)) !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  padding: 6px 10px !important;
  backdrop-filter: blur(8px) !important;
}

.gavoc-legend {
  font-family: 'Inter', system-ui, sans-serif !important;
}

.leaflet-popup-content-wrapper {
  border-radius: 12px !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
}

.leaflet-popup-tip {
  background: white !important;
}

/* Table scrollbar styling */
.gavoc-table-container::-webkit-scrollbar,
.scrollbar-thin::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.gavoc-table-container::-webkit-scrollbar-track,
.scrollbar-track-stone-100::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.3);
  border-radius: 4px;
}

.gavoc-table-container::-webkit-scrollbar-thumb,
.scrollbar-thumb-stone-300::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 4px;
  border: 1px solid hsl(var(--muted) / 0.5);
}

.gavoc-table-container::-webkit-scrollbar-thumb:hover,
.scrollbar-thumb-stone-300::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

.gavoc-table-container::-webkit-scrollbar-corner {
  background: hsl(var(--muted) / 0.3);
}

/* Make table more scrollable */
.gavoc-table-scroll {
  overflow: auto;
  scroll-behavior: smooth;
}

.gavoc-table-scroll::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

.gavoc-table-scroll::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.2);
  border-radius: 6px;
  margin: 2px;
}

.gavoc-table-scroll::-webkit-scrollbar-thumb {
  background: linear-gradient(
    180deg,
    hsl(var(--muted-foreground) / 0.3) 0%,
    hsl(var(--muted-foreground) / 0.4) 100%
  );
  border-radius: 6px;
  border: 2px solid hsl(var(--muted) / 0.2);
}

.gavoc-table-scroll::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
    180deg,
    hsl(var(--muted-foreground) / 0.4) 0%,
    hsl(var(--muted-foreground) / 0.6) 100%
  );
}

.gavoc-table-scroll::-webkit-scrollbar-corner {
  background: hsl(var(--muted) / 0.2);
}

/* Custom animations */
@keyframes gavoc-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.gavoc-pulse {
  animation: gavoc-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Synchronized table scrolling - only body scrolls */
.gavoc-table-body {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--muted-foreground) / 0.4) hsl(var(--muted) / 0.2);
  /* Allow both horizontal and vertical scrolling */
  overflow-x: auto;
  overflow-y: auto;
  /* Ensure AutoSizer can calculate height properly */
  position: relative;
}

.gavoc-table-body::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.gavoc-table-body::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.2);
  border-radius: 4px;
}

.gavoc-table-body::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 4px;
  border: 1px solid hsl(var(--muted) / 0.3);
}

.gavoc-table-body::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

/* Header follows body scroll but has no scrollbar */
.gavoc-table-header {
  scrollbar-width: none;
  -ms-overflow-style: none;
  /* Prevent any scrolling on header */
  overflow: hidden !important;
}

.gavoc-table-header::-webkit-scrollbar {
  display: none;
}

/* Enhanced table row animations */
.gavoc-table-row {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.gavoc-table-row-selected {
  background: linear-gradient(
    135deg,
    hsla(var(--secondary), 0.15) 0%,
    hsla(var(--secondary), 0.08) 100%
  ) !important;
  border-left: 4px solid hsl(var(--secondary)) !important;
  box-shadow: 0 2px 8px hsla(var(--secondary), 0.15) !important;
  transform: translateX(2px);
}

.gavoc-table-row-selected .gavoc-selected-indicator {
  animation: gavoc-pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) 3;
}

/* Smooth scrolling for virtual list */
.ReactVirtualized__List {
  scroll-behavior: smooth;
}

/* Selection highlight animation */
@keyframes gavoc-selection-highlight {
  0% {
    box-shadow: 0 0 0 0 hsla(var(--secondary), 0.4);
  }
  70% {
    box-shadow: 0 0 0 6px hsla(var(--secondary), 0);
  }
  100% {
    box-shadow: 0 0 0 0 hsla(var(--secondary), 0);
  }
}

.gavoc-selection-animation {
  animation: gavoc-selection-highlight 0.8s ease-out;
}

/* Ensure Leaflet map container allows proper dragging and panning */
.leaflet-container {
  cursor: grab !important;
}

.leaflet-container:active {
  cursor: grabbing !important;
}

.leaflet-dragging .leaflet-container {
  cursor: grabbing !important;
}

/* Ensure map controls don't interfere with dragging */
.leaflet-control-container {
  pointer-events: auto !important;
}

.leaflet-control {
  pointer-events: auto !important;
}

/* Allow map panning and dragging */
.leaflet-touch-drag {
  touch-action: pan-x pan-y !important;
}

/* Table container for proper height calculation */
.gavoc-table-container {
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* AutoSizer wrapper */
.gavoc-table-body > div {
  outline: none !important;
}
